{% extends 'base.html' %}

{% block content %}
<body>
  <div class="container" style="max-width: 450px;">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="progress" role="progressbar" aria-label="Success striped example" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
          <div class="progress-bar progress-bar-striped bg-success" style="width: {{ percentage }}%; height: 20px"></div>
        </div>
        <br>
        <h3 class="text-center">Goal: $2,000.00</h3>
        <h3 class="text-center">Current: ${{ current_amount }}</h3>
        <br>
        <form enctype="multipart/form-data" method="post" role="charge" id="payment-form" class="text-center">
          {% csrf_token %}
          <label for="amount">Enter donation amount:</label>
          <br>
          <input type="number" id="amount" name="amount" style="color: white; width: 100px; height: 40px;" min="0" step="0.01">
          <br>
          <br>
          <button type="submit" class="btn btn-success">Donate</button>
        </form>
      </div>
    </div>
  </div>
  <script>
    // Restrict input to only numeric characters
    document.getElementById('amount').addEventListener('input', function(event) {
      this.value = this.value.replace(/[^0-9.]/g, '');
    });
  </script>
  
</body>
{% if messages %}
    <ul class="messages">
        {% for message in messages %}
            <li>{{ message }}</li>
        {% endfor %}
    </ul>
{% endif %}
{% endblock %}