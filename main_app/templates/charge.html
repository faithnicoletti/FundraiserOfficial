{% extends 'base.html' %}

{% block content %}
<body>
  <div class="container" style="max-width: 450px;">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="progress" role="progressbar" aria-label="Success striped example" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
          <div class="progress-bar progress-bar-striped bg-success" style="width: {{ percentage }}%; height: 20px"></div>
        </div>
        <br>
        <h3 class="text-center">Goal: $2,000.00</h3>
        <h3 class="text-center">Current: ${{ current_amount }}</h3>
        <br>
        <form enctype="multipart/form-data" method="post" role="charge" id="payment-form" class="text-center">
          {% csrf_token %}
          <label for="amount">Enter donation amount:</label>
          <br>
          <input type="text" id="amount" name="amount" style="color: black; width: 100px; height: 40px;">
          <br>
          <br>
          <button type="submit" class="btn btn-success">Donate</button>
        </form>
      </div>
    </div>
  </div>
>
  <script>
    document.getElementById('amount').addEventListener('input', function (e) {
     
      let value = e.target.value;

      value = value.replace(/[^0-9.]/g, '');

      value = parseFloat(value).toFixed(2);

      e.target.value = value;
    });
  </script>
</body>
{% endblock %}
