{% extends 'base.html' %}

{% block content %}
<br>
<h1 style="color:#4F6367;">Change Password for <span class="text-success">{{ user.username }}</span></h1>

<form id="change-password-form" action="" method="POST">
  {% csrf_token %}
  {{ form.as_p }}
  
  <input type="submit" value="Change Password" class="btn btn-success">
</form>

<p id="success-message" style="display: none; color: green;">Password successfully changed!</p>

<script>
  document.getElementById("change-password-form").addEventListener("submit", function(event) {
 
    document.getElementById("success-message").style.display = "block";
    
    event.preventDefault();
    
    setTimeout(function() {
      window.location.href = "{% url 'profile' %}";
    }, 2000); 
  });
</script>

{% endblock %}